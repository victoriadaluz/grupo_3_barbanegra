<!DOCTYPE html>
<html lang="es">
<%- include('../partials/head.ejs')  %>

<body>
    <%- include('../partials/headerAdmin.ejs')  %>
    <main class="adminMain text-black">
        <form action="agregarProducto" method="POST" enctype="multipart/form-data">
            <h2>Agregar producto</h2>
            <label for="inputName">Nombre</label>
            <input type="text" name="name" id="inputName">
            <label for="inputBrand">Marca</label>
            <input type="text" name="brand" id="inputBrand">
            <label for="inputPrice">Precio</label>
            <input type="text" name="price" id="inputPrice">
            <label for="inputDiscount">Descuento</label>
            <input type="text" name="discount" id="inputPrice">
            <div class="categories-subcategories-column grid  gap-4 grid-cols-2">
                <div class=''>
                    <label for="categoryInput">Categorias</label>
                    <br>
                    <select class="form-select w-full" id="specificSizeSelect" name="subcategory">
                      <option selected hidden value="">Categorias</option>
                     <% categories.forEach(category => { %>
                        <option value="<%- category.id %>" <%= locals.old && old.category == category.id ? "selected" : "" %> ><%- category.name %></option>
                     <% }) %>
                    </select>
                    <% if (locals.errors && errors.category) { %>
                        <small class="text-danger"><%= errors.category.msg %></small>
                    <% } %>
                </div>
    
                <div class=""> 
                    <label for="categoryInput">Subcategorias</label>
                    <br>
                    <select class="form-select w-full" id="specificSizeSelect" name="subcategory">
                      <option selected hidden value="">Subcategorias</option>
                     <% subcategories.forEach(subcategory => { %>
                        <option value="<%- subcategory.id %>" <%= locals.old && old.category == subcategory.id ? "selected" : "" %> ><%- subcategory.name %></option>
                     <% }) %>
                    </select>
                    <% if (locals.errors && errors.category) { %>
                        <small class="text-danger"><%= errors.category.msg %></small>
                    <% } %>
                </div>
            </div>
            <div class="description-input">
                <label for="validationTextarea" class="form-label">Descripci√≥n</label>
                <textarea class="form-control" id="validationTextarea" name="description"><%= locals.old && old.description %></textarea>
            </div>
            <div class="">
                <label for="inputImage" class="form-label">Imagen</label>
                <input type="file" name="image" class="form-control" aria-label="file example" id="inputImage" multiple>
                <% if (locals.errors && errors.image) { %>
                    <small class="text-danger"><%= errors.image.msg %> </small>
                <% } %>
            </div>
            <button type="submit" class="btn-log">AGREGAR</button>
        </form>

    </main>

    <%- include('../partials/scripts.ejs')  %>
</body>

</html>